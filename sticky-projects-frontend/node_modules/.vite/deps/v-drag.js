// node_modules/v-drag/dist/module.js
function a(a2, t2) {
  const n2 = "x" === t2 ? window.data.snapX : window.data.snapY;
  return Math.round(a2 / n2) * n2;
}
function t(a2, t2, n2 = "add") {
  a2.forEach((a3) => {
    document[n2 + "EventListener"](a3, t2, false);
  });
}
function n(a2, t2, n2) {
  return `matrix(${a2 || "1, 0, 0, 1,"} ${t2}, ${n2})`;
}
function e(a2, t2) {
  a2.dispatchEvent(new Event("v-drag-" + t2));
}
function o(t2, o2) {
  window.data.relativeX = window.data.mouseX * t2, window.data.relativeY = window.data.mouseY * o2, window.data.move.style.transform = n(window.data.matrix, window.data.matrixX + a(window.data.relativeX, "x"), window.data.matrixY + a(window.data.relativeY, "y")), e(window.data.move, "moving"), (window.getSelection ? window.getSelection() : document.selection).empty();
}
var d = { x() {
  o(true, false);
}, y() {
  o(false, true);
}, all() {
  o(true, true);
} };
function i() {
  d[window.data.axis](window.data), window.data.posAnimation = requestAnimationFrame(i);
}
function w() {
  window.data.move.classList.add(window.data.class.move), window.data.posAnimation = requestAnimationFrame(i), t(["mousemove", "touchmove"], w, "remove");
}
function s(a2, t2) {
  let n2 = Number(window.getComputedStyle(window.data.move)[t2].replace("px", ""));
  if ("none" !== a2) {
    const e2 = a2.match(/[0-9.-]+/g);
    n2 += Number(e2[8 - t2.length]);
  }
  return n2;
}
function l(a2, t2, n2) {
  const e2 = ["rect", "circle", "text", "ellipse", "image"], o2 = e2.includes(window.data.move.nodeName) ? "x" : "left", d2 = e2.includes(window.data.move.nodeName) ? "y" : "top";
  window.data.move.style.transform = a2, window.data.move.style[o2] = t2, window.data.move.style[d2] = n2;
}
function c(a2) {
  a2.preventDefault(), window.data.mouseX = (a2.pageX || a2.touches[0].pageX) - window.data.initialX, window.data.mouseY = (a2.pageY || a2.touches[0].pageY) - window.data.initialY, window.setTimeout(() => {
    (a2.clientY || a2.touches[0].clientY) > 0.8 * window.innerHeight && (document.documentElement.scrollTop += 10), (a2.clientY || a2.touches[0].clientY) < 0.2 * window.innerHeight && (document.documentElement.scrollTop -= 10), (a2.clientX || a2.touches[0].clientX) > 0.8 * window.innerWidth && (document.documentElement.scrollLeft += 10), (a2.clientX || a2.touches[0].clientX) < 0.2 * window.innerWidth && (document.documentElement.scrollLeft -= 10);
  }, 100);
}
function r(a2, o2, d2, i2, r2) {
  r2.preventDefault(), window.data.grab = a2, window.data.move = o2, window.data.axis = d2, window.data.initialX = r2.pageX || r2.touches[0].pageX, window.data.initialY = r2.pageY || r2.touches[0].pageY, window.data.relativeX = 0, window.data.relativeY = 0, window.data.snapX = i2.x, window.data.snapY = i2.y;
  const u2 = window.getComputedStyle(window.data.move).transform;
  window.data.matrix = "none" !== u2 && u2.match(/\d([^,]*,){4}/g);
  const m2 = ["rect", "circle", "text", "ellipse", "image", "path"], v2 = m2.includes(window.data.move.nodeName) ? "x" : "left", p2 = m2.includes(window.data.move.nodeName) ? "y" : "top", h2 = s(u2, v2), f2 = s(u2, p2);
  l(n(window.data.matrix, h2, f2), 0, 0), window.data.matrixX = h2, window.data.matrixY = f2, window.data.grab.classList.add(window.data.class.down), e(o2, "down"), t(["mousemove", "touchmove"], c), t(["mousemove", "touchmove"], w);
}
function u() {
  window.data.grab && window.data.move && (cancelAnimationFrame(window.data.posAnimation), t(["mousemove", "touchmove"], w, "remove"), l(window.data.matrix ? n(window.data.matrix, 0, 0) : "none", window.data.matrixX + a(window.data.relativeX, "x") + "px", window.data.matrixY + a(window.data.relativeY, "y") + "px"), window.data.grab.classList.remove(window.data.class.down), window.data.move.classList.remove(window.data.class.move), e(window.data.move, "end"), t(["mousemove", "touchmove"], c, "remove"));
}
function m(a2, t2) {
  const n2 = "string" == typeof a2 ? parseInt(a2.replace(/px/g, ""), 10) : a2;
  return 0 === n2 || Number.isNaN(n2) || t2 && void 0 === n2 ? 1 : n2;
}
function v(a2) {
  return !!["x", "y", "all"].includes(a2);
}
function p(a2, n2) {
  const o2 = n2.value || {}, d2 = o2 instanceof Object ? o2.handle : o2, i2 = function(a3) {
    if ("string" == typeof a3) {
      const t2 = a3.split(",");
      return { x: m(t2[0]), y: void 0 !== m(t2[1]) ? m(t2[1]) : m(t2[0]) };
    }
    return "number" == typeof a3 ? { x: m(a3), y: m(a3) } : a3 instanceof Object && (a3.x || a3.y) ? { x: m(a3.x) || 1, y: m(a3.y) || 1 } : Array.isArray(a3) ? { x: m(a3[0]) || 1, y: void 0 !== m(a3[1]) ? m(a3[1], true) : m(a3[0], true) } : { x: 1, y: 1 };
  }(o2.snap), w2 = [];
  let s2;
  s2 = o2 instanceof Object && o2.axis && v(o2.axis) ? o2.axis : v(n2.arg) ? n2.arg : "all", d2 instanceof HTMLElement ? w2.push(d2) : document.querySelectorAll(d2).forEach((a3) => {
    w2.push(a3);
  }), 0 !== w2.length ? (a2.classList.add(window.data.class.usesHandle), w2.forEach((t2) => {
    t2.classList.add(window.data.class.handle), t2.onmousedown = (n3) => r(t2, a2, s2, i2, n3), t2.ontouchstart = (n3) => r(t2, a2, s2, i2, n3);
  })) : (a2.onmousedown = (t2) => r(a2, a2, s2, i2, t2), a2.ontouchstart = (t2) => r(a2, a2, s2, i2, t2)), a2.classList.add(window.data.class.initial), e(a2, "setup"), t(["mouseup", "touchend"], u);
}
var h = (a2, t2) => {
  p(a2, t2);
};
var f = (a2, t2) => {
  a2.onmousedown = null, a2.ontouchstart = null;
  const n2 = "object" == typeof t2.oldValue ? t2.oldValue.handle : t2.oldValue;
  document.querySelectorAll(n2).forEach((t3) => {
    t3.onmousedown = null, t3.ontouchstart = null, t3.classList.remove(window.data.class.handle), a2.classList.remove(window.data.class.usesHandle);
  }), t2.oldValue && Object.keys(t2.oldValue).forEach((t3) => {
    e(a2, "update-" + t3);
  }), p(a2, t2);
};
var g = { install(a2, t2) {
  window.data = {}, window.data.class = { initial: "drag-draggable", usesHandle: "drag-uses-handle", handle: "drag-handle", down: "drag-down", move: "drag-move" };
  let n2 = true;
  if (t2) {
    if (t2.eventClass) {
      const a3 = t2.eventClass;
      Object.keys(a3).forEach((t3) => {
        a3[t3] && (window.data.class[t3] = a3[t3]);
      });
    }
    "boolean" == typeof t2.removeTransition && (n2 = t2.removeTransition);
  }
  const e2 = document.createElement("style");
  e2.innerHTML = `.${window.data.class.initial}{position:relative;}.${window.data.class.initial}:not(.${window.data.class.usesHandle}),.${window.data.class.handle}{cursor:move;cursor:grab;cursor:-webkit-grab;}.${window.data.class.handle}.${window.data.class.down},.${window.data.class.initial}:not(.${window.data.class.usesHandle}).${window.data.class.down}{z-index:999;cursor:grabbing;cursor:-webkit-grabbing;}`, e2.innerHTML += true === n2 ? `.${window.data.class.move}{transition:none;}` : "", document.body.appendChild(e2), a2.directive("drag", { mounted(a3, t3) {
    h(a3, t3);
  }, updated(a3, t3) {
    f(a3, t3);
  }, inserted(a3, t3) {
    h(a3, t3);
  }, update(a3, t3) {
    f(a3, t3);
  } });
} };

// dep:v-drag
var v_drag_default = g;
export {
  v_drag_default as default
};
/*!
 * v-drag v3.0.7
 * by Nil Vila and contributors
 */
//# sourceMappingURL=v-drag.js.map
